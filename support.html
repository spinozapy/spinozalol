<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no" />
    <meta property="og:title" content="Support">
    <meta property="og:image" content="https://killwith.fun/img/support.png">
    <meta property="og:site_name" content="killwith.fun">
    <meta property="og:description" content="Information about Support and contact details.">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <title>{ Support }</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://killwith.fun/img/favicon.ico">
    <script src="https://unpkg.com/htmx.org@1.6.1"></script>
    <style>
        body, html {
            overflow: hidden;
            background-color: black;
            color: white;
        }

        .noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.05;
            z-index: 0;
        }

        .social-link {
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }

        .social-link:hover {
            color: #ffffff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6);
        }

        .pfp {
        margin-top: 50px;
        border-radius: 50%;
        width: 57px;  
        height: 57px; 
        object-fit: cover;  
}

@media (min-width: 768px) {
    .pfp {
        width: 86px;  
        height: 86px; 
    }
}

@media (min-width: 1024px) {
    .pfp {
        width: 114px;  
        height: 114px; 
    }
}

    </style>
</head>
<body class="h-screen font-mono" id="body" oncontextmenu="return false;" onkeydown="return disableShortcuts(event);">
    <div class="noise"></div>
    <div class="main" id="content">
        <main class="rounded-lg p-4 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
            <div class="intial-container">
                <img src="https://killwith.fun/img/support.png" id="discordProfile" draggable="false" class="pfp" alt="support">
                <br>
                <h1 class="color-main text-3xl">Support <span class="dot text-green-500 blink" id="status-dot">â€¢</span></h1>
                                                                                                                    
                <br/>
                <div class="music-status" id="music-status">
                    <p>currently not playing...</p>
                </div>
                <hr class="my-4 border-gray-600">
                <h2 class="text-2xl">Socials</h2>
                <ul class="list-none p-4 socials">
                    <li class="mt-4">
                        <strong class="color-main text-lg"><i class="fab fa-discord"></i> Discord</strong> - 
                        <a href="https://discordapp.com/users/246383236744347648" target="_blank" class="text-gray-300 social-link">c8hn</a>
                    </li>
                    <li class="mt-4">
                        <strong class="color-main text-lg"><i class="fab fa-github"></i> Github</strong> - 
                        <a href="https://github.com/dk6m" class="text-gray-300 social-link">dk6m</a> 
                    </li>
                </ul>
                <hr class="my-4 border-gray-600">
                <p class="text-xl">~ Most things have both good and bad; find the balance and act wisely. ~</p>
                <hr class="my-4 border-gray-600">
            </div>
        </main>
    </div>

    <script>

document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U')) {
                e.preventDefault();
                window.location.href = 'https://killwith.fun/bluescreen';
            }
        });
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12') {
                e.preventDefault();
                window.location.href = 'https://killwith.fun/redscreen';
            }
        });

        let devToolsOpen = false;
        let devToolsTimer;
        
        function checkDevTools() {
            devToolsOpen = window.outerWidth - window.innerWidth > 200 || window.outerHeight - window.innerHeight > 200;
            if (devToolsOpen) {
                clearInterval(devToolsTimer);
                window.location.href = 'https://killwith.fun/redscreen'; 
            }
        }
        
        devToolsTimer = setInterval(checkDevTools, 0); 

    </script>

    <script>
        const userId = "246383236744347648";
        const statusDot = document.getElementById("status-dot");
        const musicStatusElement = document.getElementById("music-status");

        async function fetchPresence() {
            try {
                const response = await fetch(`https://api.lanyard.rest/v1/users/${userId}`);
                const data = await response.json();

                if (data.success && data.data) {
                    const presence = data.data;
                    const discordStatus = presence.discord_status;

                    switch (discordStatus) {
                        case "online":
                            statusDot.style.color = "#22C55E";
                            break;
                        case "idle":
                            statusDot.style.color = "#FACC15";
                            break;
                        case "dnd":
                            statusDot.style.color = "#EF4444";
                            break;
                        default:
                            statusDot.style.color = "#6B7280";
                    }

                    if (presence.listening_to_spotify && presence.spotify) {
                        const spotify = presence.spotify;
                        const songInfo = `
                            <div style="display: flex; align-items: center;">
                                <img src="${spotify.album_art_url}" alt="Album art" style="width: 50px; height: 50px; margin-right: 10px;">
                                <div>
                                    <p>Listening to <strong>${spotify.song}</strong></p>
                                    <p>by <em>${spotify.artist}</em></p>
                                </div>
                            </div>
                        `;
                        musicStatusElement.innerHTML = songInfo;
                    } else {
                        musicStatusElement.innerHTML = '<p>Currently not playing anything...</p>';
                    }
                }
            } catch (error) {
                musicStatusElement.innerHTML = '<p>Currently not playing anything...</p>';
                console.error("Error fetching presence data:", error);
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            fetchPresence();
            setInterval(fetchPresence, 1000);
        });

        function disableShortcuts(event) {
            if (event.keyCode === 123 || (event.ctrlKey && event.shiftKey && event.keyCode === 73) || (event.ctrlKey && event.shiftKey && event.keyCode === 67) || (event.ctrlKey && event.keyCode === 85)) {
                event.preventDefault();
                return false;
            }
        }
        
    const updateDiscordProfile = async () => {
      try {
          const DISCORD_USER_ID = '246383236744347648';
          const response = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_USER_ID}`);
  
          if (!response.ok) throw new Error('Failed to fetch Discord profile');
          
          const { data } = await response.json();
          const profileImg = document.getElementById('discordProfile');
  
          const avatarHash = data.discord_user.avatar || 'default';
          profileImg.src = `https://cdn.discordapp.com/avatars/${DISCORD_USER_ID}/${avatarHash}.png?size=512`;
  
      } catch (error) {
          console.error('Failed to fetch Discord profile:', error);
      }
    };
  
    document.addEventListener('DOMContentLoaded', updateDiscordProfile);
  </script>
</body>
</html>
