<!DOCTYPE html>
<html lang="tr">
    <meta name="description" content="Mahalle - Topluluğun kalbi burada atıyor. Dijital deneyim çok yakında sizlerle.">
    <meta name="keywords" content="mahalle, mahalle life, discord topluluk, dijital mahalle, sosyal topluluk">

    <link rel="canonical" href="https://mahalle.life">
    <meta http-equiv="Content-Language" content="tr">
    <meta http-equiv="Copyright" content="Mahalle">

    <meta property="og:site_name" content="mahalle.life">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mahalle.life">
    <meta property="og:title" content="Mahalle">
    <meta property="og:description" content="Topluluğun yeni dijital merkezi.">
    <meta property="og:image" content="/images/logo.png"> <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://mahalle.life">
    <meta name="twitter:title" content="Mahalle">
    <meta name="twitter:description" content="Topluluğun yeni dijital merkezi. Çok yakında buradayız.">
    <meta name="twitter:image" content="/images/logo.png"> <link rel="icon" href="/images/favicon-16x16.png" type="image/png" sizes="16x16">
    <link rel="icon" href="/images/favicon-32x32.png" type="image/png" sizes="32x32">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mahalle</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --discord-dark: #313338;
            --discord-darker: #2b2d31;
            --discord-blue: #5865f2;
            --discord-green: #23a55a;
            --text-white: #ffffff;
            --text-gray: #b5bac1;
            --widget-bg: #1e1f22;
        }

        body, html {
            margin: 0; padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: var(--discord-dark);
            color: var(--text-white);
            height: 100%;
            display: flex; flex-direction: column;
            overflow-x: hidden;
        }

        header {
            display: flex; justify-content: center;
            padding: 30px 0;
            background: rgba(43, 45, 49, 0.9);
            backdrop-filter: blur(10px);
            position: fixed; width: 100%; top: 0; z-index: 1000;
        }

        nav a {
            color: var(--text-gray);
            text-decoration: none;
            margin: 0 25px;
            font-weight: 600;
            font-size: 0.85rem;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            transition: 0.3s;
        }

        nav a.disabled { cursor: not-allowed; opacity: 0.5; }
        nav a:first-child:hover { color: var(--text-white); }

        .hero {
            flex: 1;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            text-align: center; padding-top: 120px;
        }

        .welcome-text {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(3rem, 10vw, 5.5rem); 
            font-weight: 900;
            margin-bottom: 40px;
            letter-spacing: -2px;
            line-height: 1;
        }

        .animated-gradient {
            background: linear-gradient(270deg, #5865f2, #6974f0, #5865f2, #6974f0);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientMove 6s ease infinite;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .widget-card {
            width: 360px;
            background-color: var(--widget-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 25px 60px rgba(0,0,0,0.6);
            text-align: left;
            margin-bottom: 50px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .widget-header {
            height: 130px;
            background-color: var(--discord-darker); 
            background-size: cover;
            background-position: center;
            transition: opacity 0.3s ease;
        }

        .widget-body {
            padding: 20px;
            padding-top: 55px; 
            position: relative;
        }

        .server-pp {
            width: 85px;
            height: 85px;
            border-radius: 28px;
            background-color: var(--discord-dark);
            border: 6px solid var(--widget-bg);
            position: absolute;
            top: -45px;
            left: 20px;
            object-fit: cover;
        }

        .server-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #fff;
            margin-bottom: 10px;
            font-family: 'Montserrat', sans-serif;
        }

        .member-info {
            display: flex;
            gap: 15px; 
            margin-bottom: 25px;
        }

        .count-item {
            display: flex;
            align-items: center;
            font-size: 0.85rem;
            color: var(--text-gray);
            font-weight: 500;
        }

        .count-number {
            margin-right: 5px;
            font-weight: 700;
            color: #fff;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 6px;
        }

        .dot.online { background-color: var(--discord-green); }
        .dot.offline { background-color: #747f8d; }

        .btn-join {
            display: block;
            width: 100%;
            background-color: var(--discord-green);
            color: white;
            text-decoration: none;
            text-align: center;
            padding: 14px 0;
            border-radius: 6px;
            font-weight: 800;
            font-size: 1rem;
            transition: 0.3s;
        }

        .btn-join:hover { background-color: #1a8347; transform: translateY(-2px); }

        .status-badge {
            font-family: 'Montserrat', sans-serif;
            border: 2px solid var(--discord-blue);
            color: var(--discord-blue);
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 900;
            font-size: 1.1rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            animation: pulseBig 2s infinite;
        }

        @keyframes pulseBig {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.05); opacity: 1; box-shadow: 0 0 20px rgba(88, 101, 242, 0.3); }
            100% { transform: scale(1); opacity: 0.7; }
        }

        footer { padding: 60px 0; text-align: center; }
        .copyright {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.8rem;
            letter-spacing: 4px;
            color: rgba(255,255,255,0.2);
            text-transform: uppercase;
        }

        .copyright a { color: var(--discord-blue); text-decoration: none; font-weight: 900; transition: all 0.3s ease; }
        .copyright a:hover { color: #ffffff; text-shadow: 0 0 2px rgba(255, 255, 255, 0.5); }
    </style>
</head>
<body>

    <header>
        <nav>
            <a href="#" id="homeLink">Ana Sayfa</a>
            <a href="#" class="disabled">Hakkımızda</a>
            <a href="#" class="disabled">Biz Kimiz</a>
            <a href="#" class="disabled">İletişim</a>
        </nav>
    </header>

    <section class="hero">
        <h1 class="welcome-text">
            <span class="animated-gradient">Mahalle</span>'ye hoş geldin.
        </h1>

        <div class="widget-card">
            <div class="widget-header" id="guild-banner"></div>
            <div class="widget-body">
                <img src="https://cdn.discordapp.com/embed/avatars/0.png" id="guild-icon" class="server-pp" alt="Mahalle">
                <div class="server-title" id="guild-name">Mahalle</div>
                
                <div class="member-info">
                    <div class="count-item">
                        <span class="dot online"></span>
                        <span id="online-count" class="count-number">0</span> Çevrim içi
                    </div>
                    <div class="count-item">
                        <span class="dot offline"></span>
                        <span id="total-count" class="count-number">0</span> Üye
                    </div>
                </div>

                <a href="https://discord.gg/mahalle" target="_blank" class="btn-join">Katıl</a>
            </div>
        </div>

        <div class="status-badge">Site Yeni Özelliklerle Çok Yakında.</div>
    </section>

    <footer>
        <p class="copyright">© 2026 <a href="https://discord.gg/mahalle" target="_blank">Mahalle</a> — Tüm Hakları Saklıdır.</p>
    </footer>

    <script>
        const INVITE_CODE = "mahalle"; 

        const elName = document.getElementById('guild-name');
        const elOnline = document.getElementById('online-count');
        const elTotal = document.getElementById('total-count');
        const elIcon = document.getElementById('guild-icon');
        const elBanner = document.getElementById('guild-banner');

        function loadFromCache() {
            const cachedData = localStorage.getItem('mahalle_full_cache');
            if (cachedData) {
                const data = JSON.parse(cachedData);
                elName.innerText = data.name || "Mahalle";
                elOnline.innerText = data.online || 0;
                elTotal.innerText = data.total || 0;
                elIcon.src = data.icon;
                if (data.banner) {
                    elBanner.style.backgroundImage = `url('${data.banner}')`;
                }
            }
        }

        async function fetchDiscordData() {
            try {
                const response = await fetch(`https://discord.com/api/v9/invites/${INVITE_CODE}?with_counts=true`);
                if (!response.ok) return;

                const data = await response.json();
                if (data.guild) {
                    const guild = data.guild;
                    const name = guild.name;
                    const onlineCount = data.approximate_presence_count || 0;
                    const totalCount = data.approximate_member_count || 0;

                    const iconExt = guild.icon?.startsWith("a_") ? "gif" : "png";
                    const iconUrl = guild.icon ? `https://cdn.discordapp.com/icons/${guild.id}/${guild.icon}.${iconExt}?size=256` : elIcon.src;
                    
                    const bannerExt = guild.banner?.startsWith("a_") ? "gif" : "png";
                    const bannerUrl = guild.banner ? `https://cdn.discordapp.com/banners/${guild.id}/${guild.banner}.${bannerExt}?size=600` : "";

                    elName.innerText = name;
                    elOnline.innerText = onlineCount;
                    elTotal.innerText = totalCount;
                    elIcon.src = iconUrl;
                    if (bannerUrl) {
                        elBanner.style.backgroundImage = `url('${bannerUrl}')`;
                    }

                    localStorage.setItem('mahalle_full_cache', JSON.stringify({
                        name: name,
                        online: onlineCount,
                        total: totalCount,
                        icon: iconUrl,
                        banner: bannerUrl
                    }));
                }
            } catch (err) {
                console.log("Sinyal yok, önbellek devrede.");
            }
        }

        loadFromCache();
        fetchDiscordData();
        setInterval(fetchDiscordData, 10000);

        document.getElementById('homeLink').addEventListener('click', (e) => { e.preventDefault(); location.reload(); });
        document.querySelectorAll('.disabled').forEach(l => l.addEventListener('click', e => e.preventDefault()));
    </script>
</body>
</html>
